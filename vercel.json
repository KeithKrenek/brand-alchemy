{
    "version": 2,
    "builds": [
      {
        "src": "package.json",
        "use": "@vercel/static-build",
        "config": { "distDir": "dist" }
      }
    ],
    "routes": [
      {
        "src": "/assets/(.*)",
        "headers": {
          "cache-control": "public, max-age=31536000, immutable"
        },
        "continue": true
      },
      {
        "src": "/(.*)",
        "headers": {
          "Access-Control-Allow-Origin": "${VITE_ALLOWED_ORIGINS}",
          "Access-Control-Allow-Methods": "GET, POST, PUT, DELETE, OPTIONS",
          "Access-Control-Allow-Headers": "X-Requested-With, Content-Type, Accept"
        },
        "continue": true
      },
      {
        "handle": "filesystem"
      },
      {
        "src": "/.*",
        "dest": "/index.html"
      }
    ],
    "env": {
      "VITE_OPENAI_API_KEY": "@openai-api-key",
      "VITE_INTERVIEW_ASSISTANT_ID": "@interview-assistant-id",
      "VITE_REPORT_ASSISTANT_ID": "@report-assistant-id",
      "VITE_FIREBASE_API_KEY": "@firebase-api-key",
      "VITE_FIREBASE_AUTH_DOMAIN": "@firebase-auth-domain",
      "VITE_FIREBASE_PROJECT_ID": "@firebase-project-id",
      "VITE_FIREBASE_STORAGE_BUCKET": "@firebase-storage-bucket",
      "VITE_FIREBASE_MESSAGING_SENDER_ID": "@firebase-messaging-sender-id",
      "VITE_FIREBASE_APP_ID": "@firebase-app-id",
      "VITE_GA_MEASUREMENT_ID": "@ga-measurement-id",
      "VITE_ALLOWED_ORIGINS": "@allowed-origins"
    }
  }